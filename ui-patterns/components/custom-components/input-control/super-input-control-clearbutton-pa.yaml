ComponentDefinitions:
  cmp_Input:
    DefinitionType: CanvasComponent
    Description: Input control for single line text, multiline text, dropdown and date with clear button and required indicator
    CustomProperties:
      BorderColor:
        PropertyKind: Input
        DisplayName: Border Color
        Description: A custom property
        DataType: Color
        Default: =ColorValue("#30006F")
      BorderColorRequired:
        PropertyKind: Input
        DisplayName: Border Color Required
        Description: A custom property
        DataType: Color
        Default: =ColorValue("#EC008C")
      BorderRadius:
        PropertyKind: Input
        DisplayName: Border Radius
        Description: A custom property
        DataType: Number
        Default: =8
      BorderWidth:
        PropertyKind: Input
        DisplayName: Border Width
        Description: A custom property
        DataType: Number
        Default: =1
      ClearButtonColor:
        PropertyKind: Input
        DisplayName: Clear Button Color
        Description: Color of the clear button icon
        DataType: Color
        Default: =RGBA(180, 180, 180, 1)
      DateDefault:
        PropertyKind: Input
        DisplayName: Date Default
        Description: Default date value for date picker
        DataType: Date
        Default: =Today()
      DisplayMode:
        PropertyKind: Input
        DisplayName: Display Mode
        Description: Edit, View, Disabled
        DataType: Text
        Default: ="Edit"
      DropShadow:
        PropertyKind: Input
        DisplayName: Drop Shadow
        Description: A custom property
        DataType: Boolean
        Default: =true
      DropdownDefault:
        PropertyKind: Input
        DisplayName: Dropdown Default
        Description: A custom property
        DataType: Text
        Default: ="Red"
      DropdownItems:
        PropertyKind: Input
        DisplayName: Dropdown Items
        Description: A custom property
        DataType: Table
        Default: =["", "Red", "Green", "Blue"]
      DropdownSelectionColor:
        PropertyKind: Input
        DisplayName: Dropdown Selection Color
        Description: A custom property
        DataType: Color
        Default: =Color.White
      FieldName:
        PropertyKind: Input
        DisplayName: Field Name
        Description: Text of the field name header
        DataType: Text
        Default: ="Field Name"
      FieldNameColor:
        PropertyKind: Input
        DisplayName: Field Name Color
        Description: A custom property
        DataType: Color
        Default: =cmp_Input.IconColor
      FieldNameFontSize:
        PropertyKind: Input
        DisplayName: Field Name Font Size
        Description: A custom property
        DataType: Number
        Default: =11
      FieldNameHeight:
        PropertyKind: Input
        DisplayName: Field Name Height
        Description: Height of Field Name label
        DataType: Number
        Default: =28
      FillColor:
        PropertyKind: Input
        DisplayName: Fill Color
        Description: A custom property
        DataType: Color
        Default: =Color.White
      Font:
        PropertyKind: Input
        DisplayName: Font
        Description: A custom property
        DataType: Text
        Default: ="Montserrat"
      HintText:
        PropertyKind: Input
        DisplayName: Hint Text
        Description: A custom property
        DataType: Text
        Default: =""
      HoverFillColor:
        PropertyKind: Input
        DisplayName: Hover Fill Color
        Description: A custom property
        DataType: Color
        Default: =ColorFade(cmp_Input.IconHoverColor, .95)
      IconBackgroundColor:
        PropertyKind: Input
        DisplayName: Icon Background Color
        Description: A custom property
        DataType: Color
        Default: =Color.White
      IconColor:
        PropertyKind: Input
        DisplayName: Icon Color
        Description: A custom property
        DataType: Color
        Default: =ColorValue("#30006F")
      IconHoverColor:
        PropertyKind: Input
        DisplayName: Icon Hover Color
        Description: A custom property
        DataType: Color
        Default: =ColorValue("#EC008C")
      InputColor:
        PropertyKind: Input
        DisplayName: Input Color
        Description: A custom property
        DataType: Color
        Default: =RGBA(0, 0, 0, 1)
      InputFontSize:
        PropertyKind: Input
        DisplayName: Input Font Size
        Description: A custom property
        DataType: Number
        Default: =13
      InputType:
        PropertyKind: Input
        DisplayName: Input Type
        Description: "Single line text: txt; Multi-line text: txtx; Dropdown: drp; Datepicker: dte"
        DataType: Text
        Default: ="txt"
      OnChange:
        PropertyKind: Event
        DisplayName: OnChange
        Description: A custom property
        ReturnType: Text
        Default: ="Text"
      Required:
        PropertyKind: Input
        DisplayName: Required
        Description: A custom property
        DataType: Boolean
        Default: =true
      RequiredIndicatorColor:
        PropertyKind: Input
        DisplayName: Required Indicator Color
        Description: Color of the required asterisk indicator
        DataType: Color
        Default: =RGBA(255, 0, 0, 1)
      Reset:
        PropertyKind: Input
        DisplayName: Reset
        Description: A custom property
        DataType: Boolean
        Default: =false
      ShowClearButton:
        PropertyKind: Input
        DisplayName: Show Clear Button
        Description: Show/hide the clear button
        DataType: Boolean
        Default: =true
      SpellCheck:
        PropertyKind: Input
        DisplayName: Spell Check
        Description: A custom property
        DataType: Boolean
        Default: =true
      TextFieldDefault:
        PropertyKind: Input
        DisplayName: Text Field Default
        Description: A custom property
        DataType: Text
        Default: =""
      Tooltip:
        PropertyKind: Input
        DisplayName: Tooltip
        Description: A custom property
        DataType: Text
        Default: =""
      aValue:
        PropertyKind: Output
        DisplayName: aValue
        Description: A custom property
        DataType: Text
    Properties:
      Height: =70
      Width: =300
      aValue: |-
        =Switch(
            cmp_Input.InputType,
            "txt",
            txt_Input.Text,
            "txtx",
            txtx_Input.Text,
            "drp",
            drp_Input.SelectedText.Value,
            "dte",
            dte_Input.SelectedDate
        )
    Children:
      - ctr_Input:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            BorderColor: |-
              =//--- SINGLE LINE TEXT INPUT
              If(
                  cmp_Input.Required && cmp_Input.InputType = "txt" && IsBlank(txt_Input.Text),
                  cmp_Input.BorderColorRequired,

                  //--- MULTILINE TEXT INPUT
                  If(
                      cmp_Input.Required && cmp_Input.InputType = "txtx" && IsBlank(txtx_Input.Text),
                      cmp_Input.BorderColorRequired,

                      //--- DROPDOWN INPUT
                      If(
                          cmp_Input.Required && cmp_Input.InputType = "drp" && IsBlank(drp_Input.SelectedText.Value),
                          cmp_Input.BorderColorRequired,

                          //--- DATE INPUT
                          If(
                              cmp_Input.Required && cmp_Input.InputType = "dte" && IsBlank(dte_Input.SelectedDate),
                              cmp_Input.BorderColorRequired,
                              cmp_Input.BorderColor
                          )
                      )
                  )
              )
            BorderThickness: =cmp_Input.BorderWidth
            DropShadow: |-
              =If(
                  cmp_Input.DropShadow,
                  DropShadow.Semilight,
                  DropShadow.None
              )
            Height: =Parent.Height - cmp_Input.FieldNameHeight - 5
            RadiusBottomLeft: =cmp_Input.BorderRadius
            RadiusBottomRight: =cmp_Input.BorderRadius
            RadiusTopLeft: =cmp_Input.BorderRadius
            RadiusTopRight: =cmp_Input.BorderRadius
            Width: =Parent.Width - 10
            X: =5
            Y: =lbl_FieldName.Height
          Children:
            - dte_Input:
                Control: Classic/DatePicker@2.6.0
                Properties:
                  AccessibleLabel: ="Date selector to " & Self.Tooltip
                  BorderColor: =cmp_Input.BorderColor
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =0
                  Color: =cmp_Input.InputColor
                  DefaultDate: =cmp_Input.DateDefault
                  DisplayMode: |-
                    =Switch(
                        cmp_Input.DisplayMode,
                        "Edit",
                        DisplayMode.Edit,
                        "View",
                        DisplayMode.View,
                        "Disabled",
                        DisplayMode.Disabled
                    )
                  Fill: =cmp_Input.FillColor
                  FocusedBorderThickness: =1
                  Font: =cmp_Input.Font
                  Height: =Parent.Height
                  IconBackground: =Color.White
                  IconFill: =cmp_Input.IconColor
                  InputTextPlaceholder: =""
                  IsEditable: =true
                  PaddingLeft: =10
                  PaddingTop: =5
                  Reset: =cmp_Input.Reset
                  Size: =cmp_Input.InputFontSize
                  StartOfWeek: =StartOfWeek.Monday
                  Tooltip: =cmp_Input.Tooltip
                  Visible: =cmp_Input.InputType = "dte"
                  Width: =Parent.Width - If(cmp_Input.ShowClearButton, 30, 0)
                  X: =Parent.Width - Parent.Width
                  Y: =Parent.Width - Parent.Width
            - drp_Input:
                Control: Classic/DropDown@2.3.1
                Properties:
                  AccessibleLabel: ="Drop down to " & Self.Tooltip
                  AllowEmptySelection: =true
                  BorderColor: =cmp_Input.BorderColor
                  BorderThickness: =cmp_Input.BorderWidth
                  ChevronBackground: =cmp_Input.IconBackgroundColor
                  ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                  ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                  ChevronFill: =cmp_Input.IconColor
                  ChevronHoverBackground: =cmp_Input.HoverFillColor
                  ChevronHoverFill: =cmp_Input.IconHoverColor
                  Color: =cmp_Input.InputColor
                  Default: =cmp_Input.DropdownDefault
                  DisplayMode: |-
                    =Switch(
                        cmp_Input.DisplayMode,
                        "Edit",
                        DisplayMode.Edit,
                        "View",
                        DisplayMode.View,
                        "Disabled",
                        DisplayMode.Disabled
                    )
                  Fill: =cmp_Input.FillColor
                  FocusedBorderThickness: =1
                  Font: =cmp_Input.Font
                  Height: =Parent.Height
                  HoverBorderColor: =Self.BorderColor
                  HoverColor: =Self.Color
                  HoverFill: =cmp_Input.HoverFillColor
                  Items: =cmp_Input.DropdownItems
                  Items.Value: =Value
                  OnChange: =cmp_Input.OnChange()
                  PaddingBottom: =5
                  PaddingTop: =5
                  PressedColor: =Self.HoverColor
                  PressedFill: =Self.HoverFill
                  Reset: =cmp_Input.Reset
                  SelectionColor: =cmp_Input.DropdownSelectionColor
                  SelectionFill: =cmp_Input.IconColor
                  Size: =cmp_Input.InputFontSize
                  Tooltip: =cmp_Input.Tooltip
                  Visible: =cmp_Input.InputType = "drp"
                  Width: =Parent.Width
                  X: =Parent.Width - Parent.Width
                  Y: =Parent.Width - Parent.Width
            - txt_Input:
                Control: Classic/TextInput@2.3.2
                Properties:
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =0
                  Color: =cmp_Input.InputColor
                  Default: =cmp_Input.TextFieldDefault
                  DisplayMode: |-
                    =Switch(
                        cmp_Input.DisplayMode,
                        "Edit",
                        DisplayMode.Edit,
                        "View",
                        DisplayMode.View,
                        "Disabled",
                        DisplayMode.Disabled
                    )
                  EnableSpellCheck: =cmp_Input.SpellCheck
                  Fill: =cmp_Input.FillColor
                  Font: =cmp_Input.Font
                  Height: =Parent.Height
                  HintText: =cmp_Input.HintText
                  HoverColor: =cmp_Input.InputColor
                  HoverFill: =cmp_Input.HoverFillColor
                  PaddingLeft: =10
                  PressedFill: =Self.HoverFill
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Reset: =cmp_Input.Reset
                  Size: =cmp_Input.InputFontSize
                  Tooltip: =cmp_Input.Tooltip
                  Visible: =cmp_Input.InputType = "txt"
                  Width: =Parent.Width - If(cmp_Input.ShowClearButton, 30, 0)
                  X: =Parent.Width - Parent.Width
                  Y: =Parent.Width - Parent.Width
            - txtx_Input:
                Control: Classic/TextInput@2.3.2
                Properties:
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =0
                  Color: =cmp_Input.InputColor
                  Default: =cmp_Input.TextFieldDefault
                  DisplayMode: |-
                    =Switch(
                        cmp_Input.DisplayMode,
                        "Edit",
                        DisplayMode.Edit,
                        "View",
                        DisplayMode.View,
                        "Disabled",
                        DisplayMode.Disabled
                    )
                  EnableSpellCheck: =cmp_Input.SpellCheck
                  Fill: =cmp_Input.FillColor
                  Font: =cmp_Input.Font
                  Height: =Parent.Height
                  HintText: =cmp_Input.HintText
                  HoverColor: =cmp_Input.InputColor
                  HoverFill: =cmp_Input.HoverFillColor
                  Mode: =TextMode.MultiLine
                  PaddingLeft: =10
                  PressedFill: =Self.HoverFill
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Reset: =cmp_Input.Reset
                  Size: =cmp_Input.InputFontSize
                  Tooltip: =cmp_Input.Tooltip
                  Visible: =cmp_Input.InputType = "txtx"
                  Width: =Parent.Width - If(cmp_Input.ShowClearButton, 30, 0)
                  X: =Parent.Width - Parent.Width
                  Y: =Parent.Width - Parent.Width
            - ico_ClearButton:
                Control: Classic/Icon@2.5.2
                Properties:
                  AccessibleLabel: ="Clear input"
                  Color: =cmp_Input.ClearButtonColor
                  Height: =20
                  HoverColor: =ColorFade(cmp_Input.ClearButtonColor, -0.2)
                  Icon: =Icon.Cancel
                  OnSelect: |-
                    =Switch(
                        cmp_Input.InputType,
                        "txt",
                        Reset(txt_Input),
                        "txtx",
                        Reset(txtx_Input),
                        "drp",
                        Reset(drp_Input),
                        "dte",
                        Reset(dte_Input)
                    )
                  PaddingBottom: =0
                  PaddingLeft: =0
                  PaddingRight: =0
                  PaddingTop: =0
                  Visible: |-
                    =cmp_Input.ShowClearButton &&
                    cmp_Input.DisplayMode = "Edit" &&
                    Switch(
                        cmp_Input.InputType,
                        "txt",
                        !IsBlank(txt_Input.Text),
                        "txtx",
                        !IsBlank(txtx_Input.Text),
                        "drp",
                        !IsBlank(drp_Input.SelectedText.Value),
                        "dte",
                        !IsBlank(dte_Input.SelectedDate),
                        false
                    )
                  Width: =20
                  X: =Parent.Width - Self.Width - 10
                  Y: =(Parent.Height - Self.Height) / 2
      - lbl_FieldName:
          Control: Label@2.5.1
          Properties:
            Color: =cmp_Input.FieldNameColor
            Font: =cmp_Input.Font
            FontWeight: =FontWeight.Semibold
            Height: =cmp_Input.FieldNameHeight
            PaddingBottom: =2
            PaddingLeft: =16
            PaddingTop: =8
            Size: =cmp_Input.FieldNameFontSize
            Text: =cmp_Input.FieldName
            VerticalAlign: =VerticalAlign.Bottom
            Width: =Parent.Width - If(cmp_Input.Required, 20, 0)
      - lbl_RequiredIndicator:
          Control: Label@2.5.1
          Properties:
            Color: =cmp_Input.RequiredIndicatorColor
            Font: =cmp_Input.Font
            FontWeight: =FontWeight.Bold
            Height: =cmp_Input.FieldNameHeight
            PaddingBottom: =2
            PaddingLeft: =0
            PaddingTop: =8
            Size: =cmp_Input.FieldNameFontSize
            Text: ="*"
            VerticalAlign: =VerticalAlign.Bottom
            Visible: =cmp_Input.Required
            Width: =20
            X: =lbl_FieldName.Width

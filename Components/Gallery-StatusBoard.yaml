###########################################################
# Gallery-StatusBoard.yaml
#
# A Kanban-inspired vertical task/status board gallery
# Features:
# - Vertical responsive container layout
# - Bold drop shadow on content container
# - Status filter tabs (To Do, In Progress, Done)
# - Card-style gallery items with:
#   - Left edge status color indicator
#   - Bold task title
#   - Assignee, due date, priority badge
#   - Rounded corners with elevation on selection
# - Theme-aware colors
#
# Sample Data Structure:
# Items: =[
#     {Title: "Design Homepage", Assignee: "Alice", DueDate: "Dec 5", Priority: "High", Status: "In Progress"},
#     {Title: "Write Documentation", Assignee: "Bob", DueDate: "Dec 7", Priority: "Medium", Status: "To Do"},
#     {Title: "Code Review", Assignee: "Charlie", DueDate: "Dec 4", Priority: "Low", Status: "Done"}
# ]
###########################################################

- verticalAutoLayoutContainer_TaskBoard:
    Control: GroupContainer
    Variant: verticalAutoLayoutContainer
    Properties:
      DropShadow: =DropShadow.None
      Fill: =RGBA(245, 247, 250, 1)
      Height: =App.Height
      Width: =App.Width
      PaddingTop: =20
      PaddingLeft: =20
      PaddingRight: =20
      PaddingBottom: =20
    Children:

    # Heading Label
    - lbl_TaskBoardHeading:
        Control: Label
        Properties:
          Text: ="Task Board"
          Height: =50
          Width: =Parent.Width - 40
          FontWeight: =FontWeight.Bold
          Size: =24
          Color: =RGBA(32, 31, 30, 1)
          Align: =Align.Left
          PaddingLeft: =10

    # Summary Container with Counts and Filters
    - con_SummaryBar:
        Control: GroupContainer
        Variant: horizontalAutoLayoutContainer
        Properties:
          Height: =80
          Width: =Parent.Width - 40
          Fill: =RGBA(255, 255, 255, 1)
          DropShadow: =DropShadow.Light
          RadiusTopLeft: =8
          RadiusTopRight: =8
          RadiusBottomLeft: =8
          RadiusBottomRight: =8
          PaddingTop: =15
          PaddingLeft: =20
          PaddingRight: =20
          PaddingBottom: =15
          AlignInContainer: =AlignInContainer.Stretch
          LayoutGap: =20
        Children:

        # Total Tasks Count
        - lbl_TotalTasks:
            Control: Label
            Properties:
              Text: =Concatenate("Total: ", CountRows(gal_StatusBoard.AllItems))
              Width: =150
              Height: =Parent.Height - 30
              FontWeight: =FontWeight.Semibold
              Size: =16
              Color: =RGBA(32, 31, 30, 1)
              VerticalAlign: =VerticalAlign.Middle

        # To Do Badge
        - con_FilterToDo:
            Control: GroupContainer
            Variant: horizontalAutoLayoutContainer
            Properties:
              Height: =Parent.Height - 30
              Width: =120
              Fill: =If(var_StatusFilter = "To Do" || IsBlank(var_StatusFilter), RGBA(0, 120, 212, 1), RGBA(243, 242, 241, 1))
              RadiusTopLeft: =20
              RadiusTopRight: =20
              RadiusBottomLeft: =20
              RadiusBottomRight: =20
              PaddingTop: =8
              PaddingLeft: =15
              PaddingRight: =15
              PaddingBottom: =8
              OnSelect: =UpdateContext({var_StatusFilter: "To Do"})
            Children:
            - lbl_ToDo:
                Control: Label
                Properties:
                  Text: =Concatenate("To Do (", CountRows(Filter(gal_StatusBoard.AllItems, Status = "To Do")), ")")
                  Width: =90
                  Height: =Parent.Height - 16
                  Color: =If(var_StatusFilter = "To Do" || IsBlank(var_StatusFilter), RGBA(255, 255, 255, 1), RGBA(50, 49, 48, 1))
                  FontWeight: =FontWeight.Semibold
                  Size: =13
                  VerticalAlign: =VerticalAlign.Middle
                  Align: =Align.Center

        # In Progress Badge
        - con_FilterInProgress:
            Control: GroupContainer
            Variant: horizontalAutoLayoutContainer
            Properties:
              Height: =Parent.Height - 30
              Width: =140
              Fill: =If(var_StatusFilter = "In Progress", RGBA(255, 140, 0, 1), RGBA(243, 242, 241, 1))
              RadiusTopLeft: =20
              RadiusTopRight: =20
              RadiusBottomLeft: =20
              RadiusBottomRight: =20
              PaddingTop: =8
              PaddingLeft: =15
              PaddingRight: =15
              PaddingBottom: =8
              OnSelect: =UpdateContext({var_StatusFilter: "In Progress"})
            Children:
            - lbl_InProgress:
                Control: Label
                Properties:
                  Text: =Concatenate("In Progress (", CountRows(Filter(gal_StatusBoard.AllItems, Status = "In Progress")), ")")
                  Width: =110
                  Height: =Parent.Height - 16
                  Color: =If(var_StatusFilter = "In Progress", RGBA(255, 255, 255, 1), RGBA(50, 49, 48, 1))
                  FontWeight: =FontWeight.Semibold
                  Size: =13
                  VerticalAlign: =VerticalAlign.Middle
                  Align: =Align.Center

        # Done Badge
        - con_FilterDone:
            Control: GroupContainer
            Variant: horizontalAutoLayoutContainer
            Properties:
              Height: =Parent.Height - 30
              Width: =120
              Fill: =If(var_StatusFilter = "Done", RGBA(16, 124, 16, 1), RGBA(243, 242, 241, 1))
              RadiusTopLeft: =20
              RadiusTopRight: =20
              RadiusBottomLeft: =20
              RadiusBottomRight: =20
              PaddingTop: =8
              PaddingLeft: =15
              PaddingRight: =15
              PaddingBottom: =8
              OnSelect: =UpdateContext({var_StatusFilter: "Done"})
            Children:
            - lbl_Done:
                Control: Label
                Properties:
                  Text: =Concatenate("Done (", CountRows(Filter(gal_StatusBoard.AllItems, Status = "Done")), ")")
                  Width: =90
                  Height: =Parent.Height - 16
                  Color: =If(var_StatusFilter = "Done", RGBA(255, 255, 255, 1), RGBA(50, 49, 48, 1))
                  FontWeight: =FontWeight.Semibold
                  Size: =13
                  VerticalAlign: =VerticalAlign.Middle
                  Align: =Align.Center

        # Clear Filter Button
        - con_ClearFilter:
            Control: GroupContainer
            Variant: horizontalAutoLayoutContainer
            Properties:
              Height: =Parent.Height - 30
              Width: =100
              Fill: =If(!IsBlank(var_StatusFilter), RGBA(200, 198, 196, 1), RGBA(243, 242, 241, 1))
              RadiusTopLeft: =20
              RadiusTopRight: =20
              RadiusBottomLeft: =20
              RadiusBottomRight: =20
              PaddingTop: =8
              PaddingLeft: =15
              PaddingRight: =15
              PaddingBottom: =8
              OnSelect: =UpdateContext({var_StatusFilter: Blank()})
              Visible: =!IsBlank(var_StatusFilter)
            Children:
            - lbl_ClearFilter:
                Control: Label
                Properties:
                  Text: ="Clear Filter"
                  Width: =70
                  Height: =Parent.Height - 16
                  Color: =RGBA(50, 49, 48, 1)
                  FontWeight: =FontWeight.Semibold
                  Size: =12
                  VerticalAlign: =VerticalAlign.Middle
                  Align: =Align.Center

    # Main Gallery Container with Bold Drop Shadow
    - con_GalleryWrapper:
        Control: GroupContainer
        Variant: verticalAutoLayoutContainer
        Properties:
          Height: =Parent.Height - 170
          Width: =Parent.Width - 40
          Fill: =RGBA(255, 255, 255, 1)
          DropShadow: =DropShadow.Bold
          RadiusTopLeft: =12
          RadiusTopRight: =12
          RadiusBottomLeft: =12
          RadiusBottomRight: =12
          PaddingTop: =20
          PaddingLeft: =20
          PaddingRight: =20
          PaddingBottom: =20
        Children:

        # Status Board Gallery
        - gal_StatusBoard:
            Control: Gallery
            Variant: galleryVertical
            Properties:
              Items: =If(IsBlank(var_StatusFilter), Table({Title: "Design Homepage", Assignee: "Alice", DueDate: "Dec 5", Priority: "High", Status: "In Progress"}, {Title: "Write Documentation", Assignee: "Bob", DueDate: "Dec 7", Priority: "Medium", Status: "To Do"}, {Title: "Code Review", Assignee: "Charlie", DueDate: "Dec 4", Priority: "Low", Status: "Done"}), Filter(Table({Title: "Design Homepage", Assignee: "Alice", DueDate: "Dec 5", Priority: "High", Status: "In Progress"}, {Title: "Write Documentation", Assignee: "Bob", DueDate: "Dec 7", Priority: "Medium", Status: "To Do"}, {Title: "Code Review", Assignee: "Charlie", DueDate: "Dec 4", Priority: "Low", Status: "Done"}), Status = var_StatusFilter))
              Height: =Parent.Height - 40
              Width: =Parent.Width - 40
              TemplatePadding: =0
              TemplateSize: =140
              ShowScrollbar: =true
            Children:

            # Gallery Item Card Container
            - con_GalleryItem:
                Control: GroupContainer
                Variant: horizontalAutoLayoutContainer
                Properties:
                  Height: =130
                  Width: =Parent.TemplateWidth - 20
                  Fill: =If(ThisItem.IsSelected, RGBA(243, 242, 241, 1), RGBA(255, 255, 255, 1))
                  RadiusTopLeft: =8
                  RadiusTopRight: =8
                  RadiusBottomLeft: =8
                  RadiusBottomRight: =8
                  DropShadow: =If(ThisItem.IsSelected, DropShadow.Bold, DropShadow.Light)
                  PaddingTop: =0
                  PaddingLeft: =0
                  PaddingRight: =0
                  PaddingBottom: =0
                  LayoutGap: =0
                Children:

                # Status Indicator Stripe
                - rec_StatusStripe:
                    Control: Rectangle
                    Properties:
                      Height: =Parent.Height
                      Width: =6
                      Fill: =Switch(ThisItem.Status, "To Do", RGBA(0, 120, 212, 1), "In Progress", RGBA(255, 140, 0, 1), "Done", RGBA(16, 124, 16, 1), RGBA(200, 198, 196, 1))
                      RadiusTopLeft: =8
                      RadiusBottomLeft: =8

                # Content Container
                - con_CardContent:
                    Control: GroupContainer
                    Variant: verticalAutoLayoutContainer
                    Properties:
                      Height: =Parent.Height
                      Width: =Parent.Width - 6
                      Fill: =RGBA(0, 0, 0, 0)
                      PaddingTop: =15
                      PaddingLeft: =15
                      PaddingRight: =15
                      PaddingBottom: =15
                      LayoutGap: =8
                    Children:

                    # Title and Priority Row
                    - con_TitleRow:
                        Control: GroupContainer
                        Variant: horizontalAutoLayoutContainer
                        Properties:
                          Height: =30
                          Width: =Parent.Width - 30
                          Fill: =RGBA(0, 0, 0, 0)
                          LayoutJustify: =LayoutJustify.SpaceBetween
                          LayoutGap: =10
                        Children:

                        # Task Title
                        - lbl_TaskTitle:
                            Control: Label
                            Properties:
                              Text: =ThisItem.Title
                              Height: =30
                              Width: =Parent.Width - 110
                              FontWeight: =FontWeight.Bold
                              Size: =16
                              Color: =RGBA(32, 31, 30, 1)
                              VerticalAlign: =VerticalAlign.Top
                              Overflow: =Overflow.Truncate

                        # Priority Badge
                        - con_PriorityBadge:
                            Control: GroupContainer
                            Variant: horizontalAutoLayoutContainer
                            Properties:
                              Height: =28
                              Width: =90
                              Fill: =Switch(ThisItem.Priority, "High", RGBA(209, 52, 56, 1), "Medium", RGBA(255, 185, 0, 1), "Low", RGBA(16, 124, 16, 1), RGBA(200, 198, 196, 1))
                              RadiusTopLeft: =14
                              RadiusTopRight: =14
                              RadiusBottomLeft: =14
                              RadiusBottomRight: =14
                              PaddingTop: =5
                              PaddingLeft: =12
                              PaddingRight: =12
                              PaddingBottom: =5
                            Children:
                            - lbl_Priority:
                                Control: Label
                                Properties:
                                  Text: =ThisItem.Priority
                                  Height: =18
                                  Width: =66
                                  Color: =RGBA(255, 255, 255, 1)
                                  FontWeight: =FontWeight.Semibold
                                  Size: =12
                                  VerticalAlign: =VerticalAlign.Middle
                                  Align: =Align.Center

                    # Assignee Row
                    - con_AssigneeRow:
                        Control: GroupContainer
                        Variant: horizontalAutoLayoutContainer
                        Properties:
                          Height: =24
                          Width: =Parent.Width - 30
                          Fill: =RGBA(0, 0, 0, 0)
                          LayoutGap: =8
                        Children:

                        # Assignee Icon
                        - ico_Assignee:
                            Control: Icon
                            Properties:
                              Icon: =Icon.User
                              Height: =20
                              Width: =20
                              Color: =RGBA(96, 94, 92, 1)
                              PaddingTop: =2

                        # Assignee Name
                        - lbl_Assignee:
                            Control: Label
                            Properties:
                              Text: =ThisItem.Assignee
                              Height: =24
                              Width: =Parent.Width - 58
                              Color: =RGBA(96, 94, 92, 1)
                              Size: =14
                              VerticalAlign: =VerticalAlign.Middle

                    # Due Date Row
                    - con_DueDateRow:
                        Control: GroupContainer
                        Variant: horizontalAutoLayoutContainer
                        Properties:
                          Height: =24
                          Width: =Parent.Width - 30
                          Fill: =RGBA(0, 0, 0, 0)
                          LayoutGap: =8
                        Children:

                        # Calendar Icon
                        - ico_Calendar:
                            Control: Icon
                            Properties:
                              Icon: =Icon.Calendar
                              Height: =20
                              Width: =20
                              Color: =RGBA(96, 94, 92, 1)
                              PaddingTop: =2

                        # Due Date
                        - lbl_DueDate:
                            Control: Label
                            Properties:
                              Text: =Concatenate("Due: ", ThisItem.DueDate)
                              Height: =24
                              Width: =Parent.Width - 58
                              Color: =RGBA(96, 94, 92, 1)
                              Size: =13
                              VerticalAlign: =VerticalAlign.Middle
